Durante la Segunda Guerra Mundial Rick Blaine (Humphrey Bogart), un estadounidense cínico y amargado, expatriado por causas desconocidas, administra el local nocturno más popular de Casablanca (Marruecos), el «Café de Rick». Este es un lugar exclusivo y un antro de juego que atrae una clientela variada: gente de la Francia de Vichy, oficiales de la Alemania nazi, asilados políticos y ladrones. A pesar de que Rick asegura ser neutral en todos los campos, se revelará más tarde su participación en el tráfico ilegal de armas hacia Abisinia —que tendría como objetivo combatir la invasión italiana de 1935— y en la guerra civil española, del lado republicano.
Una noche, un criminal menor llamado Ugarte (Peter Lorre), llega al club de Rick portando unas tales «cartas de tránsito» («letters of transit»), documentos valiosos que ha conseguido tras asesinar a dos mensajeros alemanes. Se trata de salvoconductos que permiten el libre tránsito a través de la Europa controlada por los nazis y llegar, incluso, a la neutral Lisboa (Portugal), de la cual se podría partir hacia los Estados Unidos. Por eso los documentos tienen un valor incalculable para cualquiera de los refugiados que esperan en Casablanca su oportunidad de escapar. Ugarte planea vender los salvoconductos esa noche pero, antes, Ugarte es arrestado por la policía al mando del capitán Louis Renault (Claude Rains), un corrupto oficial de la Francia de Vichy que solo quiere complacer de todas las formas posibles a los nazis. De manera subrepticia, Ugarte deja las cartas al cuidado de Rick porque «de algún modo, debido a que tú me desprecias, eres el único en quien confío».

Entretanto, la razón de la amargura de Rick llega de nuevo a su vida. Se trata de su examante, Ilsa Lund (Ingrid Bergman), quien le había abandonado en París sin dar explicaciones y quien, junto a su esposo Víctor Laszlo (Paul Henreid), entra al Café esa noche para comprar las cartas. Laszlo es un renombrado líder de la resistencia checa que se enfrenta a los nazis. La pareja necesita las cartas para salir hacia los Estados Unidos, desde donde él podría continuar su labor. A la noche siguiente, Laszlo, sospechando que Rick tiene las cartas, se entrevista con él, pero Rick se niega a entregarle los salvoconductos, pidiéndole que le pregunte a su esposa el motivo. (Es decir, sólo dos personas pueden salir, pero en este punto hay tres personas que lo desean). El diálogo se ve interrumpido cuando oficiales nazis, bajo las órdenes del mayor Stresser (Conrad Veidt), comienza a cantar «Die Wacht am Rhein» (La guardia sobre el río Rin), un himno de la Alemania nazi. Enfurecido, Laszlo solicita a la banda del local que interprete La Marsellesa, el himno nacional francés hasta antes de la ocupación. Cuando el maestro de la banda busca a Rick con la mirada, éste asiente. Laszlo comienza a cantar, solo al inicio, y enseguida el muy reprimido fervor patriótico se adueña de la muchedumbre y todos se unen al canto, ahogando el de los alemanes. Como represalia, Strasser manda clausurar el club.
Rick sigue resentido con Ilsa, pero esa noche ella lo confronta una vez que el Café ha quedado desierto. Cuando él se niega a darle los documentos, ella lo amenaza con una pistola, pero incapaz de disparar, le confiesa que sigue amándolo y le explica que cuando lo encontró por primera vez y se enamoró de él en París, pensaba que su marido había sido asesinado en un campo de concentración nazi. Pero en cuanto descubrió que Laszlo había logrado escapar —continúa ella—, dejó a Rick sin explicación y regresó a su marido. Le dice que fingió haber abandonado la ciudad para evitar que Rick se quedara a buscarla y fuese capturado. Rick cambia de actitud al conocer el motivo por el cual ella se marchó de su lado y la induce a pensar que se quedará con él cuando Laszlo se vaya.

Laszlo llega al café una vez que se ha ido Ilsa y le dice a Rick que se ha dado cuenta de que «algo» sucede entre ella y Rick. De hecho, intenta provocar que Ilsa y Rick tomen las cartas de libre tránsito, con tal de salvar la vida de ella. Como sea, la policía llega y Laszlo es arrestado bajo un cargo menor. Rick interviene y convence al capitán Renault de liberar a Laszlo, prometiéndole que lo podrá acusar ante la Gestapo por un delito mucho más serio: la posesión de las cartas. Cuando Renault le cuestiona por qué lo hace, Rick le explica que Ilsa y él partirán para Estados Unidos.
Más tarde, Laszlo recibe las cartas de Rick, pero cuando Renault trata de arrestarlo, Rick traiciona a Renault, obligándolo a punta de pistola a permitir el escape. En el último momento, Rick conduce a Ilsa a que aborde el avión hacia Lisboa con su marido diciéndole que si ella se queda se arrepentirá. «Tal vez no hoy. Tal vez no mañana, pero pronto y para el resto de tus días». Rick había prometido a Ilsa que él escaparía con ella a Lisboa, sin embargo cuando la obliga a irse con su esposo ella le reclama y éste le dice una de las frases más inolvidables de los romances en el cine: «Siempre nos quedará París».
El mayor Strasser llega en su vehículo, habiendo recibido el chivatazo por parte de Renault, pero Rick le dispara cuando trata de intervenir. Cuando la policía llega, el capitán Renault salva la vida de Rick al ordenar que «capturen a los sospechosos de siempre». Recomienda que Rick deje Casablanca, sugiriéndole incluso que se una a la Francia Libre en Brazzaville (República del Congo). Ellos se alejan caminando en medio de la neblina con una de las más memorables líneas finales en la historia del cine, con Rick diciéndole al capitán: «Louis, creo que éste es el principio de una hermosa amistad».
