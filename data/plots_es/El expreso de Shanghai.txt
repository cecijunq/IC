En 1931, China se ve envuelta en una guerra civil. Los amigos del capitán británico Donald "Doc" Harvey (Clive Brook) lo envidian porque la fabulosa y notoria Shanghái Lily (Marlene Dietrich) es una compañera de pasaje en el tren expreso de Pekín a Shanghái. Debido a que el nombre no significa nada para él, le informan que ella es una "montaña rusa" o una "mujer que vive de su ingenio a lo largo de la costa china", en otras palabras, una cortesana. En el viaje, Harvey se encuentra con Lily, quien resulta ser su antigua amante, Madeline. Cinco años antes, ella le había jugado una mala pasada a Harvey para evaluar su amor por ella, pero fue contraproducente y él la abandonó. Ella le informa francamente que, mientras tanto, "hizo falta más de un hombre para cambiar mi nombre a Shanghai Lily". Cuando Lily deja en claro que todavía se preocupa profundamente por él, se hace evidente que los sentimientos de él tampoco han cambiado cuando, inadvertidamente, ve el reloj que le entregó con su fotografía. 
Entre los otros pasajeros se encuentran Hui Fei (Anna May Wong), la compañera de Lily; el misionero cristiano Mr. Carmichael (Lawrence Grant), quien al principio condena a las dos "mujeres caídas"; el jugador empedernido Sam Salt (Eugene Pallette); el comerciante de opio Eric Baum (Gustav von Seyffertitz); la señora de la pensión Haggerty (Louise Closser Hale); el oficial francés mayor Lenard (Émile Chautard) y un misterioso euroasiático, Henry Chang (Warner Oland). 
Los soldados del gobierno chino suben a bordo del tren para comprobar los pasaportes y detienen a un agente rebelde de alto rango. Chang se dirige a una oficina de telégrafos y envía un mensaje codificado. Más tarde, el tren es detenido y tomado por el ejército rebelde y su poderoso señor de la guerra, que resulta ser Chang. Chang comienza a interrogar a los pasajeros, buscando a alguien lo suficientemente importante como para cambiarlo por su valioso ayudante. Encuentra lo que quiere en Harvey, quien está de viaje para realizar una cirugía cerebral al Gobernador General de Shanghái. Chang se ofrece a llevar a Shanghái Lily a su palacio, pero ella afirma que se ha reformado. Cuando Chang se niega a aceptar su respuesta, Harvey lo interrumpe y derriba. Como Chang necesita a Harvey vivo, traga (pero no olvida) el insulto. Chang entonces lleva a Hui Fei con él a sus aposentos, donde la fuerza. 
El gobierno libera al hombre de Chang, pero Chang decide cegar a Harvey por su insolencia. Por amor, Lily se ofrece a cambio de la liberación segura de Harvey. Harvey no se da cuenta del peligro que corre y de la razón de Lily para ir con Chang. Entonces Chang es apuñalado hasta la muerte por Hui Fei, quien le cuenta a Harvey lo que ha ocurrido. Encontrando a Lily, el trío sube al tren y parte antes de que se descubra el cuerpo. El misionero Carmichael, confiando en sus instintos, intenta persuadir a Lily para que revele la verdad de que salvó a Harvey. Ella insiste en que no ilumine a Harvey porque el amor debe ir de la mano de la fe. Cuando el tren finalmente llega a Shanghái de manera segura, Lily le ofrece incondicionalmente su amor a Harvey, pero exige lo mismo a cambio. Harvey finalmente se rompe y la abraza.
