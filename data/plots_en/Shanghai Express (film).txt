Shanghai Express (film)
In 1931, China is embroiled in a civil war. Friends of British captain Donald "Doc" Harvey envy him because Shanghai Lily is traveling on the express train he is taking from Peiping to Shanghai. They tell him she is a "coaster", a "woman who lives by her wits along the China coast" (i.e., a prostitute). Lily is in fact his former lover Madeline. Five years earlier, she had played a trick on him to gauge his love for her, but it backfired and he left her. She informs him, "It took more than one man to change my name to Shanghai Lily." Lily still loves him, and she notices that he still wears a watch with her photograph in it.

Among the other passengers in first class are fellow coaster Hui Fei, Christian missionary Mr. Carmichael (who calls the coasters "fallen women"), gambler Sam Salt, opium dealer Eric Baum, boarding-house keeper Mrs. Haggerty, French officer Major Lenard, and a mysterious Eurasian, Henry Chang.
At a scheduled stop, Chinese government soldiers empty the train to check passports and apprehend a high-ranking rebel agent. Chang sends a message at the telegraph office. Later, the train is stopped and commandeered by the rebel army and its powerful warlord, who turns out to be Chang. He tortures Baum for insulting him on the train. He starts questioning the other first-class passengers, looking for someone important enough to keep as a hostage in exchange for his aide. Harvey, traveling to perform brain surgery on the governor-general of Shanghai, becomes the hostage.
Waiting for his aide to arrive, Chang offers to take Lily to his palace. She declines, claiming she has reformed. Harvey breaks in and knocks Chang down. Because he needs Harvey alive, Chang does not retaliate at that point. He has Hui Fei brought to his quarters, where he rapes her. Lily is taken back to the train and stays up praying for Harvey.
When Chang's man arrives, Chang tells Lily he plans to blind Harvey in revenge. She tells Chang she will go to his palace with him. Harvey is released unharmed, unaware he was to be blinded at the hands of Chang.
Hui Fei sneaks back into Chang's quarters and stabs him to death as he is packing to leave. She tells Harvey to rescue Lily, which he does. Carmichael, realizing he was wrong to condemn Lily, coaxes Lily to reveal the truth about how she had saved Harvey. She insists that he not tell Harvey and he agrees, telling Harvey that he knows Lily is a good person.
The train reaches Shanghai, and the passengers disperse. Harvey finds Lily while she is buying him a new watch, and asks her to forgive him for his lack of faith. They kiss amidst the bustle of the train station.